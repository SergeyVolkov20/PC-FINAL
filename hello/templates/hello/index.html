{% extends 'hello/base.html' %}

{% block content %}
    <section class="hero-section">
        <div class="container">
            <h1 class="display-4 mb-4">COLIZEUM</h1>
            <p class="lead mb-4">{{ description }}</p>
            <p class="mb-4"><strong>{{ address }}</strong></p>
            <a href="#booking" class="btn btn-book">ЗАБРОНИРОВАТЬ</a>
        </div>
    </section>

    <section id="about" class="py-5">
        <div class="container">
            <h2 class="section-title">COLIZEUM ARENA LOUNGE BAR</h2>
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="text-center">
                        <p class="lead">COLIZEUM Сургут - это компьютерный клуб, оснащенный передовым оборудованием, которое соответствует всем требованиям современных игр.</p>
                        <h4 class="mt-4 text-primary">АДРЕС: ПРОСПЕКТ МИРА 55, СУРГУТ</h4>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="prices" class="py-5 bg-dark">
        <div class="container">
            <h2 class="section-title">ЦЕНЫ</h2>
            <p class="mb-4 text-center lead">Одиночное игровое место, современное оборудование и комфортная атмосфера.</p>
            
            <div class="row">
                <div class="col-md-4">
                    <div class="price-card">
                        <div class="price-header">
                            <h4>17:00 - 08:00</h4>
                        </div>
                        <div class="price-content">
                            <p class="price-highlight">140 ₽</p>
                            <h5>1 час</h5>
                            <p class="price-highlight">380 ₽</p>
                            <h5>Пакет вечер</h5>
                            <p>3 часа (17:00 - 20:00)</p>
                            <p class="price-highlight">570 ₽</p>
                            <h5>Пакет вечер</h5>
                            <p>5 часов (15:00 - 20:00)</p>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="price-card">
                        <div class="price-header">
                            <h4>Ночной тариф</h4>
                        </div>
                        <div class="price-content">
                            <p class="price-highlight">550 ₽</p>
                            <h5>Пакет Ночь</h5>
                            <p>10 часов (22:00 - 08:00)</p>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="price-card">
                        <div class="price-header">
                            <h4>08:00 - 17:00</h4>
                        </div>
                        <div class="price-content">
                            <p class="price-highlight">120 ₽</p>
                            <h5>1 час</h5>
                            <p class="price-highlight">320 ₽</p>
                            <h5>Пакет День</h5>
                            <p>4 часа (12:00 - 16:00)</p>
                            <p class="price-highlight">490 ₽</p>
                            <h5>Пакет День</h5>
                            <p>6 часов (12:00 - 18:00)</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

<section id="booking" class="py-5">
    <div class="container text-center">
        <h2 class="section-title">БРОНИРОВАНИЕ</h2>
        <p class="lead mb-4">Забронируйте место через QR-код на вашем телефоне</p>
        
        <div class="qr-code mb-4">
            <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=http://127.0.0.1:8000/booking" 
                 alt="QR код для бронирования" 
                 width="200" 
                 height="200">
        </div>
        
        <p class="mb-4">Наведите камеру телефона на QR-код для перехода к бронированию</p>
        <a href="/booking" class="btn btn-book">ЗАБРОНИРОВАТЬ ОНЛАЙН</a>
    </div>
</section>

<section class="accessories-section py-5">
    <div class="container">
        <h2 class="section-title">ОБОРУДОВАНИЕ</h2>
        
        <div class="accessories-badges text-center mb-5">
            <p class="mb-0 h4">
                <strong>Common room</strong> | 
                <strong>Буткемп - VIP</strong> | 
                <strong>Буткемп - PRO</strong> | 
                <strong>Аренда TV 65</strong>
            </p>
        </div>

        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="row align-items-start">
        
                    <div class="col-md-6">
                        <div class="text-center mb-3">
                            <h3 class="text-primary mb-3"><strong>ЖЕЛЕЗО</strong></h3>
                        </div>
                        <div class="specs-container">
                            <table class="table specs-table">
                                <tbody>
                                    <tr>
                                        <td>ПРОЦЕССОР</td>
                                        <td>I5 - 9400F</td>
                                    </tr>
                                    <tr>
                                        <td>ВИДЕОКАРТА</td>
                                        <td>RTX2060</td>
                                    </tr>
                                    <tr>
                                        <td>ОПЕРАТИВНАЯ ПАМЯТЬ</td>
                                        <td>16GB DDR4</td>
                                    </tr>
                                    <tr>
                                        <td>SSD</td>
                                        <td>120GB</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                
                    <div class="col-md-6">
                        <div class="text-center mb-3">
                            <h3 class="text-primary mb-3"><strong>ПЕРИФЕРИЯ</strong></h3>
                        </div>
                        <div class="specs-container">
                            <table class="table specs-table">
                                <tbody>
                                    <tr>
                                        <td>МОНИТОР</td>
                                        <td>ASUS 27" - 165Hz</td>
                                    </tr>
                                    <tr>
                                        <td>КЛАВИАТУРА</td>
                                        <td>ASUS TUF Gaming K7</td>
                                    </tr>
                                    <tr>
                                        <td>МЫШЬ</td>
                                        <td>ASUS TUF M3</td>
                                    </tr>
                                    <tr>
                                        <td>НАУШНИКИ</td>
                                        <td>ASUS TUF H3</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Добавьте после секции с оборудованием в index.html -->
<section id="drinks" class="py-5 bg-dark">
    <div class="container">
        <h2 class="section-title">ПОПУЛЯРНЫЕ НАПИТКИ</h2>
        
        <div class="row">
            {% if popular_drinks %}
                {% for drink in popular_drinks %}
                <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 mb-4">
                    <div class="drink-mini-card text-center h-100">
                        <div class="drink-icon mb-3 position-relative">
                            {% if drink.image_url %}
                            <img src="{{ drink.image_url }}" alt="{{ drink.name }}" 
                                 class="rounded-circle" style="width: 100px; height: 100px; object-fit: cover; border: 2px solid var(--primary);">
                            {% else %}
                            <div class="rounded-circle bg-warning d-inline-flex align-items-center justify-content-center" 
                                 style="width: 100px; height: 100px; border: 2px solid var(--primary);">
                                <i class="fas fa-glass-whiskey fa-2x text-dark"></i>
                            </div>
                            {% endif %}
                            {% if drink.is_popular %}
                            <span class="badge bg-warning text-dark position-absolute top-0 end-0 m-1" 
                                  style="font-size: 0.7rem;">
                                <i class="fas fa-star me-1"></i>TOP
                            </span>
                            {% endif %}
                        </div>
                        <h6 class="text-light mb-1" style="min-height: 40px; display: flex; align-items: center; justify-content: center;">
                            {{ drink.name }}
                        </h6>
                        <p class="text-muted small mb-2">
                            <span class="badge bg-secondary">{{ drink.get_category_display }}</span>
                        </p>
                        <p class="text-warning mb-3 fw-bold" style="font-size: 1.2rem;">{{ drink.price }} ₽</p>
                        <div class="mt-auto">
                            <button class="btn btn-sm btn-outline-warning order-drink-btn" 
                                    data-drink="{{ drink.name }}"
                                    data-price="{{ drink.price }}">
                                <i class="fas fa-cart-plus me-1"></i>Заказать
                            </button>
                        </div>
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <div class="col-12 text-center py-4">
                    <div class="alert alert-warning">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        Популярные напитки пока не добавлены. Зайдите позже!
                    </div>
                </div>
            {% endif %}
        </div>
        
        <div class="text-center mt-4">
            <a href="{% url 'drinks_menu' %}" class="btn btn-warning">
                <i class="fas fa-list me-2"></i>Смотреть всю барную карту
            </a>
        </div>
    </div>
</section>

<style>
    .drink-mini-card {
        background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
        border-radius: 15px;
        padding: 20px;
        border: 1px solid #333;
        transition: all 0.3s ease;
        display: flex;
        flex-direction: column;
    }
    
    .drink-mini-card:hover {
        transform: translateY(-5px);
        border-color: #ffcc00;
        box-shadow: 0 10px 25px rgba(255, 204, 0, 0.2);
    }
    
    .drink-icon img {
        transition: transform 0.3s ease;
    }
    
    .drink-mini-card:hover .drink-icon img {
        transform: scale(1.05);
    }
    
    .order-drink-btn {
        transition: all 0.2s ease;
        width: 100%;
    }
    
    .order-drink-btn:hover {
        background-color: #ffcc00 !important;
        color: #000 !important;
        transform: scale(1.05);
    }
</style>

    <script>
    // Обработка заказа напитков
    document.addEventListener('DOMContentLoaded', function() {
        document.querySelectorAll('.order-drink-btn').forEach(button => {
            button.addEventListener('click', function() {
                const drinkName = this.getAttribute('data-drink');
                const drinkPrice = this.getAttribute('data-price');
                
                // Создаем уведомление
                showDrinkOrderNotification(drinkName, drinkPrice);
                
                // Эффект анимации на кнопке
                this.innerHTML = '<i class="fas fa-check me-1"></i>Добавлено';
                this.classList.remove('btn-outline-warning');
                this.classList.add('btn-success');
                
                setTimeout(() => {
                    this.innerHTML = '<i class="fas fa-cart-plus me-1"></i>Заказать';
                    this.classList.remove('btn-success');
                    this.classList.add('btn-outline-warning');
                }, 2000);
            });
        });
        
        function showDrinkOrderNotification(name, price) {
            // Создаем временное уведомление
            const notification = document.createElement('div');
            notification.className = 'position-fixed top-0 end-0 p-3';
            notification.style.zIndex = '1055';
            notification.innerHTML = `
                <div class="toast show" role="alert">
                    <div class="toast-header bg-warning">
                        <strong class="me-auto">Добавлено в заказ</strong>
                        <button type="button" class="btn-close" onclick="this.parentElement.parentElement.parentElement.remove()"></button>
                    </div>
                    <div class="toast-body bg-dark text-light">
                        <div class="d-flex align-items-center">
                            <i class="fas fa-check-circle text-success me-3 fa-lg"></i>
                            <div>
                                <strong>${name}</strong><br>
                                <small class="text-warning">${price} ₽</small>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(notification);
            
            // Автоматическое скрытие через 3 секунды
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.remove();
                }
            }, 3000);
        }
    });
    </script>
</style>
{% endblock %}